<%- include('./_head', { title: 'Login' }) %>

<div class="container" style="max-width: 500px; margin: 0 auto; padding-top: var(--space-3xl);">
  <div class="card" style="background-color: rgb(165, 185, 247);">
    <div class="card-header text-center">
      <div style="margin-bottom: var(--space-md);">
        <span data-icon="login" data-icon-size="48" style="color: var(--primary);"></span>
      </div>
      <h2 style="margin: 0; color:#e1f591;">Welcome User</h2>
      <p style="margin: var(--space-sm) 0 0 0; color: #e1f591;">Sign in to continue..</p>
    </div>

    <div class="card-body" style="position: relative;">
      
      <% if (flash && flash.error && flash.error.length) { %>
        <div class="alert alert-danger"><%= flash.error[0] %></div>
      <% } %>
      <% if (flash && flash.success && flash.success.length) { %>
        <div class="alert alert-success"><%= flash.success[0] %></div>
      <% } %>

      <form action="/user/login" method="POST" data-validate>
        <div class="form-group">
          <label for="email" class="form-label">Email Address</label>
          <div style="position: relative;">
            <input type="email" id="email" name="email" class="form-control" placeholder="Enter your email" autocomplete="email" required>
            <span style="position: absolute; right: var(--space-md); top: 50%; transform: translateY(-50%); color: var(--gray-400);">
              <span data-icon="email" data-icon-size="20"></span>
            </span>
          </div>
        </div>

        <div class="form-group">
          <label for="password" class="form-label">Password</label>
          <div style="position: relative;">
            <input type="password" id="password" name="password" class="form-control" placeholder="Enter your password" autocomplete="current-password" required>
            <button type="button" id="togglePassword" class="icon-btn" style="position: absolute; right: var(--space-sm); top: 50%; transform: translateY(-50%);" title="Show/Hide Password">
              <span data-icon="view" data-icon-size="20"></span>
            </button>
          </div>
        </div>

        <button type="submit" class="btn btn-primary btn-lg" style="width: 100%; margin-top: var(--space-lg);">
          <span data-icon="login" data-icon-size="20"></span>
          <span>Sign In</span>
        </button>
      </form>

      <div class="text-center" style="margin-top: var(--space-xl);">
        <span style="color: var(--gray-600);">No account?</span>
        <a href="/user/register" style="margin-left: var(--space-sm);">Create one</a>
      </div>
    </div>
  </div>
</div>

<script>
  // Show/Hide Password functionality
  document.getElementById('togglePassword').addEventListener('click', function() {
    const passwordInput = document.getElementById('password');
    const icon = this.querySelector('[data-icon]');
    
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      icon.setAttribute('data-icon', 'delete');
      this.title = 'Hide Password';
    } else {
      passwordInput.type = 'password';
      icon.setAttribute('data-icon', 'view');
      this.title = 'Show Password';
    }
  });
</script>

<%- include('./_foot') %>