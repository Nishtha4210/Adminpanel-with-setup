<%- include('./_head', { title: 'Register' }) %>

<div class="container" style="max-width: 600px; margin: 0 auto; padding-top: var(--space-3xl);">
  <div class="card" style="background-color: rgb(165, 185, 247);">
    <div class="card-header text-center">
      <div style="margin-bottom: var(--space-md);">
        <span data-icon="register" data-icon-size="48" style="color: var(--primary);"></span>
      </div>
      <h2 style="margin: 0; color: #e1f591;">Create Your Account</h2>
      <p style="margin: var(--space-sm) 0 0 0; color:#e1f591;">Join to start reading and writing blogs</p>
    </div>

    <div class="card-body">
      <% if (flash && flash.error && flash.error.length) { %>
        <div class="alert alert-danger"><%= flash.error[0] %></div>
      <% } %>
      <% if (flash && flash.success && flash.success.length) { %>
        <div class="alert alert-success"><%= flash.success[0] %></div>
      <% } %>

      <form action="/user/register" method="POST" data-validate>
        <div class="form-group">
          <label for="name" class="form-label">Full Name</label>
          <div style="position: relative;">
            <input type="text" id="name" name="name" class="form-control" placeholder="Enter your full name" autocomplete="name" required>
            <span style="position: absolute; right: var(--space-md); top: 50%; transform: translateY(-50%); color: var(--gray-400);">
              <span data-icon="profile" data-icon-size="20"></span>
            </span>
          </div>
        </div>

        <div class="form-group">
          <label for="email" class="form-label">Email Address</label>
          <div style="position: relative;">
            <input type="email" id="email" name="email" class="form-control" placeholder="Enter your email" autocomplete="email" required>
            <span style="position: absolute; right: var(--space-md); top: 50%; transform: translateY(-50%); color: var(--gray-400);">
              <span data-icon="email" data-icon-size="20"></span>
            </span>
          </div>
        </div>

        <div class="grid grid-cols-2" style="gap: var(--space-md);">
          <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <div style="position: relative;">
              <input type="password" id="password" name="password" class="form-control" placeholder="Enter password" autocomplete="new-password" required>
              <button type="button" id="togglePassword" class="icon-btn" style="position: absolute; right: var(--space-sm); top: 50%; transform: translateY(-50%);" title="Show/Hide Password">
                <span data-icon="view" data-icon-size="20"></span>
              </button>
            </div>
          </div>

          <div class="form-group">
            <label for="confirmPassword" class="form-label">Confirm Password</label>
            <div style="position: relative;">
              <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" placeholder="Confirm password" autocomplete="new-password" required>
              <button type="button" id="toggleConfirmPassword" class="icon-btn" style="position: absolute; right: var(--space-sm); top: 50%; transform: translateY(-50%);" title="Show/Hide Password">
                <span data-icon="view" data-icon-size="20"></span>
              </button>
            </div>
          </div>
        </div>

        <button type="submit" class="btn btn-primary btn-lg" style="width: 100%; margin-top: var(--space-xl);">
          <span data-icon="register" data-icon-size="20"></span>
          <span>Create Account</span>
        </button>
      </form>

      <div class="text-center" style="margin-top: var(--space-xl);">
        <span style="color: var(--gray-600);">Already have an account?</span>
        <a href="/user/login" style="margin-left: var(--space-sm);">Sign in</a>
      </div>
    </div>
  </div>
</div>

<script>
  // Show/Hide Password functionality for password field
  document.getElementById('togglePassword').addEventListener('click', function() {
    const passwordInput = document.getElementById('password');
    const icon = this.querySelector('[data-icon]');
    
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      icon.setAttribute('data-icon', 'delete');
      this.title = 'Hide Password';
    } else {
      passwordInput.type = 'password';
      icon.setAttribute('data-icon', 'view');
      this.title = 'Show Password';
    }
  });

  // Show/Hide Password functionality for confirm password field
  document.getElementById('toggleConfirmPassword').addEventListener('click', function() {
    const passwordInput = document.getElementById('confirmPassword');
    const icon = this.querySelector('[data-icon]');
    
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      icon.setAttribute('data-icon', 'delete');
      this.title = 'Hide Password';
    } else {
      passwordInput.type = 'password';
      icon.setAttribute('data-icon', 'view');
      this.title = 'Show Password';
    }
  });
</script>

<%- include('./_foot') %>